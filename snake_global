<!DOCTYPE html>
<html>
<head>
<title>Snake Global Pro</title>

<style>
body {
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
}

h1 {
  margin-top:15px;
}

.container {
  display:flex;
  justify-content:center;
  gap:40px;
  margin-top:20px;
}

canvas {
  background:black;
  border-radius:10px;
  box-shadow:0 0 20px #00ffcc;
}

.sidebar {
  width:250px;
  background:rgba(255,255,255,0.1);
  padding:15px;
  border-radius:10px;
}

input, button, select {
  width:100%;
  padding:8px;
  margin:5px 0;
  border:none;
  border-radius:5px;
}

button {
  background:#00ffcc;
  font-weight:bold;
  cursor:pointer;
}

.leaderboard {
  text-align:left;
  margin-top:10px;
  font-size:14px;
}
</style>
</head>
<body>

<h1>üêç Snake Global Pro</h1>

<div class="container">

<canvas id="game" width="400" height="400"></canvas>

<div class="sidebar">
  <h3>Player</h3>
  <input id="playerName" placeholder="Enter your name">
  <select id="levelSelect">
    <option value="150">Easy</option>
    <option value="100">Medium</option>
    <option value="70">Hard</option>
  </select>
  <button onclick="startGame()">Start Game</button>
  <h3>Score: <span id="score">0</span></h3>

  <h3>üåç Global Top 10</h3>
  <div class="leaderboard" id="leaderboard"></div>
</div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

<script>
// üî• PASTE YOUR FIREBASE CONFIG HERE
const firebaseConfig = {
  apiKey: "PASTE_KEY",
  authDomain: "PASTE_DOMAIN",
  projectId: "PASTE_PROJECT_ID",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// GAME CODE
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let snake, food, dx, dy, score, speed, interval;

function startGame() {
  snake = [{x:200,y:200}];
  food = randomFood();
  dx=20; dy=0;
  score=0;
  document.getElementById("score").innerText=score;
  speed=parseInt(levelSelect.value);
  if(interval) clearInterval(interval);
  interval=setInterval(gameLoop,speed);
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowUp"&&dy===0){dx=0;dy=-20;}
if(e.key==="ArrowDown"&&dy===0){dx=0;dy=20;}
if(e.key==="ArrowLeft"&&dx===0){dx=-20;dy=0;}
if(e.key==="ArrowRight"&&dx===0){dx=20;dy=0;}
});

function randomFood(){
return {
x:Math.floor(Math.random()*20)*20,
y:Math.floor(Math.random()*20)*20
}
}

function gameLoop(){
ctx.clearRect(0,0,400,400);
drawFood();
moveSnake();
drawSnake();
}

function drawSnake(){
ctx.fillStyle="lime";
snake.forEach(p=>ctx.fillRect(p.x,p.y,20,20));
}

function drawFood(){
ctx.fillStyle="red";
ctx.fillRect(food.x,food.y,20,20);
}

function moveSnake(){
const head={x:snake[0].x+dx,y:snake[0].y+dy};
snake.unshift(head);

if(head.x===food.x&&head.y===food.y){
score++;
document.getElementById("score").innerText=score;
food=randomFood();
}else{
snake.pop();
}

if(head.x<0||head.x>=400||head.y<0||head.y>=400||collision(head)){
gameOver();
}
}

function collision(head){
for(let i=1;i<snake.length;i++){
if(head.x===snake[i].x&&head.y===snake[i].y){
return true;
}
}
return false;
}

function gameOver(){
clearInterval(interval);
saveScore();
alert("Game Over!");
}

function saveScore(){
const name=document.getElementById("playerName").value||"Anonymous";
db.collection("scores").add({
name:name,
score:score,
timestamp:Date.now()
});
loadLeaderboard();
}

function loadLeaderboard(){
db.collection("scores")
.orderBy("score","desc")
.limit(10)
.get()
.then(snapshot=>{
let html="";
snapshot.forEach(doc=>{
const data=doc.data();
html+=`<p>${data.name} - ${data.score}</p>`;
});
document.getElementById("leaderboard").innerHTML=html;
});
}

loadLeaderboard();

</script>
</body>
</html>
